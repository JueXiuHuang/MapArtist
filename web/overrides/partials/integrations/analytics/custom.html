<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id={{ config.extra.analytics.GA_id }}"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', '{{ config.extra.analytics.GA_id }}');
</script>
<!-- umami -->
<script defer 
  src="{{ config.extra.analytics.umami_host }}" 
  data-website-id="{{ config.extra.analytics.umami_id }}"
  data-auto-track="false">
</script>
<script>
  /* Wait for page to load and application to mount */
  document.addEventListener("DOMContentLoaded", function() {
    let url = window.location.href;
    let real_url = url.replace("{{ config.site_url }}", "");
    if(!real_url.startsWith('/')) real_url = '/' + real_url;
    umami.track(props => {
      props.url = real_url;
      return props;
    });
  })
</script>